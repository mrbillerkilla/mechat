<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chat UI</title>
    <link rel="stylesheet" href="home.css">
</head>
<body>
    <div class="container">
        <header>
            <a href="#" style="color: green;">Home</a>
            <a href="/personal-chat.html">Chat</a>
            <a href="#">Groepchat</a>
            <div class="me">me</div>
        </header>
        <aside class="sidebar">
            <div class="recent">
                <h3>Recent:</h3>
                <p>Mike - Online</p>
                <p>Mike - Offline</p>
                <p>Mike - Online</p>
                <p>Mike - Offline</p>
            </div>
            <button class="btn">Make a groupschat!</button>
        </aside>
        <main class="main">
            <div class="recent">
                <h3>Online:</h3>
                <div class="online-item">
                    <span>Mike</span>
                    <span>8 hours</span>
                </div>
                <div class="online-item">
                    <span>Mike</span>
                    <span>8 hours</span>
                </div>
            </div>
        </main>
        <footer class="explore">
            <!-- Groepen worden hier geladen -->
        </footer>
    </div>
</body>
<script>
    fetch('/api/groups')
        .then(response => response.json())
        .then(groups => {
            const footer = document.querySelector('.explore');
            footer.innerHTML = ''; // Wis bestaande inhoud

            groups.forEach(group => {
                // Maak een knopachtige div voor elke groep
                const groupDiv = document.createElement('div');
                groupDiv.textContent = group.group_name; // Gebruik group_name als kolomnaam
                groupDiv.classList.add('group-item');

                // Voeg klikfunctionaliteit toe om te redirecten naar de groepschatpagina
                groupDiv.addEventListener('click', () => {
                    window.location.href = `/group_chat.html?group_id=${group.id}`;
                });

                footer.appendChild(groupDiv);
            });
        })
        .catch(err => console.error('Fout bij ophalen van groepen:', err));
</script>
</html>
